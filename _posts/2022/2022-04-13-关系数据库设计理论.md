---
layout: post
tags: 2022 os
title: 关系数据库设计理论
---

关系数据库设计理论有 3 个方面的内容，即函数依赖、范式和模式设计。函数依赖起核心作用，它是模式分解和模式设计的基础；范式是模式分解的标准。

## 三级模式结构

数据库基本上采用类似体系结构-“三级模式-两级映射”的关系。

- 三级模式：外模式，概念模式，内模式
- 两级映射：外模式-概念模式映射，概念模式-内模式映射

外模式，也叫用户模式，是用户和数据库系统的接口。它由若干个外部记录类型组成。用户使用数据操纵语言对数据库进行操作，实际上是对外模式的外部记录进行操作。

概念模式，它是数据库中的全部数据的逻辑结构和特征的描述，由若干个概念记录类型组成，只涉及型的描述，不涉及具体的值。

内模式，也称为存储模式，是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式，定义所有的内部记录类型、索引和文件的组织方式，以及数据控制方面的细节。

两级映射分别存在对应的模式之间，实现了对应的模式之间的相互转换。

## E-R 模型

使用实体-联系图描述现实世界的概念模型，被称为实体-联系模型（Entity-Relationship Model，E-R 模型）。

E-R 模型主要由实体，联系和属性组成。

不同的实体集之间存在 3 种联系类型。

- 1:1（一对一）
- 1:n（一对多）
- m:n（多对多）

| 构体 | 说明                             |
| :--- | :------------------------------- |
| 矩形 | 表示实体集                       |
| 菱形 | 表示联系集                       |
| 椭圆 | 表示属性                         |
| 线段 | 连接属性和实体, 或连接联系和实体 |

## 关系代数

主要有的关系代数

- 并
- 交
- 差
- 笛卡尔积
- 投影
- 选择
- 联接

投影类似列选择，选择类似行选择，联接与笛卡尔积的差别是相同的字段只出现一次

一些名词：

- 候选码/候选键（Candidate Key）：能够唯一标识元组的属性或属性组。
- 主码/主键（Primary Key）：若一个关系有多个候选键，则选定一个为主键。
- 主属性和非主属性：包含在任意一个候选键中的属性被称为主属性，否则称为非主属性。
- 外码/外键（Foreign Key）：关系模式R中的属性或属性组非该关系模式中的键，是其他关系模式的键，那么对于关系模式R该属性集就是外键。
- 全码/全键（All-Key）：关系模式中的所有属性组都是这个关系模式的候选键。

根据候选键的定义，候选键可以是单个属性，也可以是多个属性的集合。在学生表中，学号和身份证号都可以唯一标识学生，均为候选键，选择学号作为主键。

## 非规范化理论

非规范化的关系模式，可能存在的问题包括：数据冗余，更新异常，插入异常和删除异常。

## 参考链接

- [关系数据库设计理论](http://www.tup.com.cn/upload/books/yz/077145-01.pdf)
- 《软件设计师教程》
