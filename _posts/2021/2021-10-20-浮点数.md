---
layout: post
tags: javascript others
title: 浮点数
---
在 JS 中学习 0.1 + 0.2 == 0.30000000000000004 的问题时候，引申出来浮点数的学习。

### IEEE 754 标准

1985 年 IEEE(电气与电子工程师协会)推出了一套浮点数表示和运算规则，使得浮点数就有可移植性。该标准全称 IEEE 二进制浮点数算术标准，编号 IEEE 754-1985。2008 年对其改进得到我们现在使用的标准 IEEE 754-2008。

IEEE 754 提供了 4 个精度级别的浮点数定义：单精度，双精度，扩展精度和可扩展精度。JavaScript 里的数字是采用 IEEE 754 标准的 64 位双精度浮点数。

## 定义或简称

LSB: least significant bit 最低有效位，指的是一个二进制数字中的第 0 位

MSB: most significant bit 最高有效位，指的是一个二进制数字中的 n - 1 位

exponent: 指数，有限浮点表示法的组成部分，表示在确定该浮点表示的值时基数的整数次幂。将有效位视为整数位和小数字段时使用指数 e，将有效位视为整数时视为指数 q；e = q + p - 1，其中 p 是数字格式的精度。

biased exponent: 偏置指数，指数和选择的常数（偏置）的总和，以使偏置指数的范围为非负。

trailing significant field: 编码二进制或十进制浮点格式的一个组成部分，包含除前导数字之外的所有有效数字。

significant：有效数，包含有效数字的有限浮点数的组成部分。

precision: 精度，可以在格式中表示的有效数字最大数量 p，或者结果四舍五入的位数。

## 编码

每个浮点数只有一种二进制交换格式的编码。

IEEE 754 的二进制编码由 3 部分组成，分别是:

- sign（符号位）0 表示正，1 表示负，占 1bit。
- based exponent（基于偏移的阶码域）
- fraction（尾数）

![float_point_format]({{ "images/float_point_format.jpg" | relative_url }})

## 参考链接

- [IEEE Standard for Floating-Point Arithmetic](https://irem.univ-reunion.fr/IMG/pdf/ieee-754-2008.pdf)
- [https://0.30000000000000004.com](https://0.30000000000000004.com)
- [JS魔法堂：彻底理解0.1 + 0.2 === 0.30000000000000004的背后](https://www.cnblogs.com/fsjohnhuang/p/5115672.html)
- [基础野：细说浮点数](https://www.cnblogs.com/fsjohnhuang/p/5109766.html)
