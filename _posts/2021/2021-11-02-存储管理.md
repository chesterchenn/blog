---
layout: post
tags: os
title: 存储管理
---
存储器管理的对象是主存，也称内存。

## 分页存储管理

- 页：将一个进程的地址空间划分若干个大小相等的区域。
- 块或页框：将主存空间划分成与页相同大小的若干个物理块。
- 分页存储：在为进程分配主存时，将进程中若干页分别装入多个不相邻接的块中。
- 页表：系统为每个进程建立一张页面的映射表。

分页的地址结构：由两部分组成，前一部分为页号 P，后一部分为偏移量 W，即页内地址。

```plain
+------------------+
| 页号P | 页内地址W  |
+------------------+

A 表示逻辑地址
L 表示页面大小，页取值 B
P = INT(A/L) INT 表示取整
W = MOD(A/L) MOD 表示去余
物理地址 = 页号框 * 页面大小 + 页内偏移地址
```

从地址映射的过程中可以发现，页式存储管理至少需要两次访问主存。例如，第一次是访问页表，得到的是数据的物理地址，第二次是存取数据。

快表：在地址映射机构中增加一个小容量的联想存储器，联想存储器由一组高速存储器组成，称之为快表。用来保存当前访问频率高的少数活动页的页号及相关信息。

## 分段存储管理

在分段存储管理方式中，作业的地址空间被划分为若干个段，每个段是一组完整的逻辑信息。

例如有主程序段、子程序段、数据段和堆栈段等，每个段都有自己的名字，都是从 0 开始编址的一段连续的地址空间，各段的长度是不等的。

分段系统的地址结构有段号 s 和段内地址 d 两部分组成。

```plain
+-------------------+
| 段号 s | 段内地址 d |
+-------------------+
```

段表是系统为每个进程建立一张段映射表，段标由段表项构成，每个段表项包括段号、段基址（起始地址）和段长（段大小）。

## 参考链接

- 《软件设计师教程》
- [操作系统原理之内存管理(第四章第二部分)](https://www.cnblogs.com/jalja/p/11455440.html)
