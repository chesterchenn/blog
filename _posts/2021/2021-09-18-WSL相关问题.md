---
layout: post
tags: 2021 others
title: WSL相关的问题
---

记录在执行 WSL 遇到的一些相关的问题。

## vim 字体变化

在注册表中：`HKEY_CURRENT_USER\Console\{YOUR_WSL}` 添加：`CodePage`(DWORD 类型，值 0x01b5)

## 内存占用过高

该问题只针对 WSL2 版本，在 WSL2 里面会遇到 Vmmem 进程占用内存过高，实质上是 linux kernel 把内存当 cache 了，用完未释放。

限制内存的使用，进入 `C:\Users\{Your_Name}` 或者在地址栏输入 `%UserProfile%`，创建 `.wslconfig`

```plain
[wsl2]
memory=3GB
```

## 命令相关

以下命令均在 PowerShell 运行

- `PS > wsl --shutdown` 终止 wsl 命令
- `PS > wsl -l -v` 查看 wsl 版本

## 主题

Windows 默认终端的 Color Theme 不方便修改，可以使用微软官方的 ColorTool 修改终端配色工具。

最新下载版本是 19 年 4 月份版本：[Color Tool April 2019](https://github.com/microsoft/terminal/releases/tag/1904.29002)

ColorTool 文档说明：[ColorTool](https://github.com/microsoft/terminal/blob/main/src/tools/ColorTool/README.md)

执行命令 `ColorTool.exe -d *.itemrmcolors`

主题下载可以使用 [iTerm2-Color-Schemes](https://github.com/mbadolato/iTerm2-Color-Schemes)
