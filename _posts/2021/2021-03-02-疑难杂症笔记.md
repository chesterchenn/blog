---
layout: post
tags: 2021 others linux
title: 疑难杂症笔记
---

记录日常中遇到的一些奇奇怪怪的问题以及解决方法。

## 无法访问 raw.githubusercontent.com

在终端访问 raw.githubusercontent.com 经常会遇到 `Failed to connect to github.com port 443: Connection refused` 的错误。

一般是因为 DNS 污染，导致我们无法访问，主要解决办法有：

1. 使用 VPN 代理
2. 修改 hosts 文件

修改 hosts 文件方法

1. 访问 [https://www.ipaddress.com](https://www.ipaddress.com)
2. 查询 `raw.githubusercontent.com` 对应的 IP 地址
3. 修改 `/etc/hosts` 文件，将对应的 IP 地址添加至末尾

```shell
xxx.xxx.xxx.xxx raw.githubusercontent.com
```

## 杀死 nohup 进程

nohup 的进程会挂载在后台运行，直接 `Ctrl + C` 不会退出进程，需要查询对应的进程 PID，杀死对应的进程。

```shell
ps -ef | grep <process>
kill PID
```

## 为硬件保留的内存

可能是一张内存条加载失败，关机断开电源，再重新启动。

如果上述无法解决，`win + r` 输入 `msconfig`，进入引导标签页，点击高级选项，勾选最大内存，重启。重启之后取消勾选上述最大内存的选项，再重启一遍。

## yay 无法使用 proxychains 代理

使用 `gcc-go` 代替 `go`，两者冲突。

- [Does yay support proxy?](https://github.com/Jguer/yay/issues/951)
- [yay 指南: 2. 代理问题](https://suiahae.me/yay-s-guide-No-2-proxy-issues/)

## yay 升级

yay 的直接升级需要下载安装 go，会遇到网络上的错误，通过 proxychains 的代理 yay 的则会导致 gcc-go 与 go 的冲突。

通过 yay 的官方包 [https://github.com/Jguer/yay](https://github.com/Jguer/yay) 来进行安装 yay-bin。

yay-bin 是通过 GitHub Action 构建的，无需下载安装 go。

```shell
pacman -S --needed git base-devel # 如果已经安装则不用执行
git clone https://aur.archlinux.org/yay-bin.git
cd yay-bin
makepkg -si
```

## ssh 链接 github 错误

链接：[Using SSH over the HTTPS port](https://docs.github.com/en/authentication/troubleshooting-ssh/using-ssh-over-the-https-port)

编辑 `~/.ssh/config` 文件，添加下面的内容

```plain
Host github.com
Hostname ssh.github.com
Port 443
User git
```

## Fcitx 符号输入

使用快捷键 `Ctrl+.` 可以设置 Full Width Punc Mode，就可以在输入中文符号变成英文符号。同理可以取消。

## SSH 链接服务器闲置容易断开

1. 编辑配置文件

   ```shell
   vim /etc/ssh/sshd_config
   ```

2. 修改以下内容,分别对应客户端每隔多少秒发送心跳包,客户端多少秒没响应就断开链接

   ```shell
   #ClientAliveInterval 0
   #ClientAliveCountMax 3
   ```

3. 重启 sshd 服务

   ```shell
   service sshd restart
   ```
