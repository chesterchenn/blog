---
layout: post
tags: algorithm
title: 时间复杂度和空间复杂度
---
## 时间复杂度
在计算机科学中，算法的时间复杂度（Time complexity）是一个函数，它定性描述该算法的运行时间。当 n 很大时，公式中的低阶、常量、系数不能左右增长趋势，都可以忽略。

时间复杂度：随着自变量的增长，算法所需时间的增长情况。

### 常见的时间复杂度

| 运行时间 | 名称 | 英文名称 |
| --- | --- | --- |
| O(1) | 常数时间 | Constant time |
| O(log n) | 对数时间 | Logarithmic time |
| O(n) | 线性时间 | Linear time |
| O(n log n) | 线性对数时间 | linearithmic time |
| O(n^2) | 平方时间 | N square time |
| O(n^3) | 次方时间 | N cubic time |
| O(2^n) | 指数时间 | Exponential time |
| O(n!) | 阶乘时间 | Factorial |

以上时间复杂度的量级依次递增。

我们在计算时间复杂度的时候，取其中最大的量级。当我们代码的时间复杂度有 O(n) 和 O(n^2) 的时候，那么时间复杂度就为 O(n^2)。总的时间复杂度等于量级最大的时间复杂度。

### 一些案例
#### O(1)
一般情况下，只要算法中不存在循环、递归语句，其时间复杂度是O(1）
```java
int n = 1000;
System.out.println("Hello, World " + n);
System.out.println("So... " + n);
```

#### O(N)
```java
for (int i = 1; i <= n; i++) {
  System.out.println("Hello, " + n);
}
```

#### O(log n)
对数阶时间复杂度非常常见，同时也是最难分析的一种。
```java
for (int i = 1; i <= n; i = i * 2) {
  System.out.println("Hello, " + n);
}
```
从代码中，变量 i 的取值就是一个等比数列。2<sup>0</sup> 2<sup>1</sup> 2<sup>2</sup>...2<sup>k</sup>...2<sup>x</sup> = n。求解 x 等到的值：x = log<sub>2</sub>n，所以上面代码的时间复杂度 O(log<sub>2</sub>n)。
```java
for (int i = 1; i <=n; i = i * 3) {
  System.out.println(n);
}
```
同理分析可得，上面代码的时间复杂度为 O(log<sub>3</sub>n)。

对数之间可以相互之间转换的，log<sub>3</sub>n 可以等于 log<sub>3</sub>2 * log<sub>2</sub>n，所以我们可以忽略系数。而在对数阶的时间复杂度表示方法里，我们忽略对数的“底”，统一表示为 O(log n)。

#### O(n log n)
O(n log n) 是一种非常常见的算法时间复杂度，归并排序，快速排序的时间复杂度都是 O(n log n)。

#### O(N^2)
```java
for (int i = 1; i <= n; i++) {
  for (int j = 1; j <= n; j++) {
    System.out.println("Hello, " + n);
  }
}
```

#### O(2^n)
```java
int fib(int n) {
  if (n < 2) return n;
  return fib(n - 1) + fib(n -2);
}
```

## 思考题
- 二叉树遍历-前序，中序，后序：时间复杂度是多少？
- 图的遍历：时间复杂度是多少？
- 搜索算法：DFS，BFS 时间复杂度是多少？
- 二分查找：时间复杂度是多少？

## 参考链接
- [如何理解算法时间复杂度的表示法，例如 O(n²)、O(n)、O(1)、O(nlogn) 等？](https://www.zhihu.com/question/21387264)
- [这才是面试官想听的：详解「递归」正确的打开方式 ](https://mp.weixin.qq.com/s/AOze7X3R2hdaDqhCybLIrw)
- [极客时间：复杂度分析（上）](https://time.geekbang.org/column/article/40036)
